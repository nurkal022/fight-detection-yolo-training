#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
# –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ other_version –≤ –∫–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

echo "=========================================="
echo "–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –°–¢–†–£–ö–¢–£–†–´ –†–ï–ü–û–ó–ò–¢–û–†–ò–Ø"
echo "=========================================="
echo ""
echo "–¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: fight-detection-yolo-training/other_version/..."
echo "–ù—É–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: fight-detection-yolo-training/..."
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –º—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–∞–ø–∫–µ
if [ ! -f "train_yolo.py" ]; then
    echo "‚ùå –û—à–∏–±–∫–∞: train_yolo.py –Ω–µ –Ω–∞–π–¥–µ–Ω"
    echo "   –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–∑ –ø–∞–ø–∫–∏ other_version"
    exit 1
fi

echo "üìã –¢–µ–∫—É—â–∏–π remote:"
git remote -v 2>/dev/null || echo "Git –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ"
echo ""

read -p "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã? (y/n): " CONFIRM

if [ "$CONFIRM" != "y" ]; then
    echo "–û—Ç–º–µ–Ω–µ–Ω–æ."
    exit 0
fi

# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é Git –∏—Å—Ç–æ—Ä–∏—é –µ—Å–ª–∏ –µ—Å—Ç—å
if [ -d ".git" ]; then
    echo ""
    echo "üóëÔ∏è  –£–¥–∞–ª—è—é —Å—Ç–∞—Ä—É—é Git –∏—Å—Ç–æ—Ä–∏—é..."
    rm -rf .git
fi

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
echo "üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π..."
git init

# –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã
echo "üì¶ –î–æ–±–∞–≤–ª—è—é —Ñ–∞–π–ª—ã..."
git add .

# –ö–æ–º–º–∏—Ç
echo "üíæ –°–æ–∑–¥–∞—é –∫–æ–º–º–∏—Ç..."
git commit -m "Initial commit: Fight detection YOLO training project"

# –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é
echo "üîó –ü–æ–¥–∫–ª—é—á–∞—é –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é..."
git remote add origin https://github.com/nurkal022/fight-detection-yolo-training.git 2>/dev/null || \
git remote set-url origin https://github.com/nurkal022/fight-detection-yolo-training.git

# –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤–µ—Ç–∫–∞ main
git branch -M main

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å (–ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É)
echo ""
echo "üöÄ –û—Ç–ø—Ä–∞–≤–ª—è—é –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)..."
echo "‚ö†Ô∏è  –≠—Ç–æ –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏!"
read -p "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å? (y/n): " PUSH_CONFIRM

if [ "$PUSH_CONFIRM" == "y" ]; then
    git push -u origin main --force
    
    echo ""
    echo "‚úÖ –ì–æ—Ç–æ–≤–æ!"
    echo "–¢–µ–ø–µ—Ä—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è:"
    echo "  fight-detection-yolo-training/"
    echo "  ‚îú‚îÄ‚îÄ dataset/"
    echo "  ‚îú‚îÄ‚îÄ train_yolo.py"
    echo "  ‚îî‚îÄ‚îÄ ..."
else
    echo "–û—Ç–º–µ–Ω–µ–Ω–æ. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Ä—É—á–Ω—É—é:"
    echo "  git push -u origin main --force"
fi

